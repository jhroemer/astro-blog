---
const nodeColor = "#6B3064";
const edgeColor = "#A67F9E";

const unevenLayerNumberOffset = 20;
const evenLayerNumberOffset = 10;

const graph = [
  [0, 1, 2],
  [3, 4],
  [5, 6, 7],
];
---

<script>
  const nodeClick = () => {
    console.log("Node clicked");
  };

  const nodes = document.querySelectorAll("[id^=node-]");
  nodes.forEach((node) => {
    node.addEventListener("click", nodeClick);
  });
</script>

<style>
  rect {
    /* fill: linear-gradient(to right, #d7f1eb, #50b3a2); */
    /* fill: linear-gradient(to bottom right, #d7f1eb, #50b3a2); */
  }
</style>

<svg viewBox="0 0 100 60">
  <!-- <defs>
    <linearGradient id="tealGradient" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#D7F1EB"></stop>
      <stop offset="100%" style="stop-color:#50B3A2"></stop>
    </linearGradient>
  </defs> -->
  <rect width="100" height="100" fill="grey"></rect>

  {
    graph.map((layer, index) => {
      return layer.map((n, innerIndex) => {
        const offset =
          index % 2 === 0 ? evenLayerNumberOffset : unevenLayerNumberOffset;
        return (
          <circle
            id={`node-${n}`}
            cx={20 + index * 30}
            cy={offset + innerIndex * 20}
            r="4"
            fill="transparent"
            stroke={nodeColor}
            stroke-width="0.2"
          />
        );
      });
    })
  }

  <!-- Edges towards second layer -->
  <line x1="24" y1="10" x2="46" y2="20" stroke={edgeColor} stroke-width="0.2"
  ></line>
  <line x1="24" y1="10" x2="46" y2="40" stroke={edgeColor} stroke-width="0.2"
  ></line>

  <line x1="24" y1="30" x2="46" y2="20" stroke={edgeColor} stroke-width="0.2"
  ></line>
  <line x1="24" y1="30" x2="46" y2="40" stroke={edgeColor} stroke-width="0.2"
  ></line>

  <line x1="24" y1="50" x2="46" y2="20" stroke={edgeColor} stroke-width="0.2"
  ></line>
  <line x1="24" y1="50" x2="46" y2="40" stroke={edgeColor} stroke-width="0.2"
  ></line>

  <!-- Edges towards third layer -->
  <line x1="54" y1="20" x2="76" y2="10" stroke={edgeColor} stroke-width="0.2"
  ></line>
  <line x1="54" y1="20" x2="76" y2="30" stroke={edgeColor} stroke-width="0.2"
  ></line>
  <line x1="54" y1="20" x2="76" y2="50" stroke={edgeColor} stroke-width="0.2"
  ></line>

  <line x1="54" y1="40" x2="76" y2="10" stroke={edgeColor} stroke-width="0.2"
  ></line>
  <line x1="54" y1="40" x2="76" y2="30" stroke={edgeColor} stroke-width="0.2"
  ></line>
  <line x1="54" y1="40" x2="76" y2="50" stroke={edgeColor} stroke-width="0.2"
  ></line>
</svg>
